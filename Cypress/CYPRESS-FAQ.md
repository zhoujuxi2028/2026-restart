# Cypress å­¦ä¹  FAQ

> é—®ç­”å¼æ•´ç†Cypresså­¦ä¹ è¿‡ç¨‹ä¸­é‡åˆ°çš„å…·ä½“é—®é¢˜

## ğŸ” æœç´¢æç¤º
ä½¿ç”¨ Ctrl+F (Windows) æˆ– Cmd+F (Mac) æœç´¢å…³é”®è¯

---

## Q1: å¦‚ä½•å•ç‹¬æ‰§è¡Œä¸€ä¸ªæµ‹è¯•ç”¨ä¾‹ï¼Ÿ
**A**: æœ‰ä¸‰ç§æ–¹æ³•ï¼š
1. åœ¨æµ‹è¯•ç”¨ä¾‹å‰åŠ  `.only()`
2. å‘½ä»¤è¡Œ: `npx cypress run --spec "æ–‡ä»¶è·¯å¾„"`
3. å›¾å½¢ç•Œé¢: `npx cypress open` ç„¶åé€‰æ‹©æ–‡ä»¶

---

## Q2: ä¸ºä»€ä¹ˆæˆ‘çš„CSSé€‰æ‹©å™¨ `input[type="text"]:not(.action-email)` ä¸é€‰æ‹©emailå’Œpasswordè¾“å…¥æ¡†ï¼Ÿ
**A**: å› ä¸ºï¼š
- Emailè¾“å…¥æ¡†çš„typeæ˜¯"email"ï¼Œä¸æ˜¯"text"
- Passwordè¾“å…¥æ¡†çš„typeæ˜¯"password"ï¼Œä¸æ˜¯"text"
- é€‰æ‹©å™¨åªåŒ¹é…type="text"çš„è¾“å…¥æ¡†

---

## Q3: `cy.wrap()` æ˜¯åšä»€ä¹ˆç”¨çš„ï¼Ÿ
**A**: å°†jQueryå¯¹è±¡è½¬æ¢ä¸ºCypresså‘½ä»¤é“¾ï¼Œè®©ä½ å¯ä»¥å¯¹jQueryæŸ¥è¯¢ç»“æœä½¿ç”¨Cypresså‘½ä»¤å¦‚ `.click()`, `.type()` ç­‰ã€‚

---

## Q4: ä»€ä¹ˆæ—¶å€™ç”¨ `.then()` ä»€ä¹ˆæ—¶å€™ç”¨ `.should()`ï¼Ÿ
**A**:
- `.then()`: éœ€è¦ä½¿ç”¨åŸç”ŸJavaScript/jQueryæ—¶ï¼Œä¸ä¼šè‡ªåŠ¨é‡è¯•
- `.should()`: è¿›è¡Œæ–­è¨€éªŒè¯æ—¶ï¼Œä¼šè‡ªåŠ¨é‡è¯•ç›´åˆ°æ¡ä»¶æ»¡è¶³

---

## Q5: å¦‚ä½•å¤„ç†é¡µé¢ä¸ŠåŠ¨æ€ç”Ÿæˆçš„å…ƒç´ ï¼Ÿ
**A**: ä½¿ç”¨æ¡ä»¶åˆ¤æ–­ï¼š
```javascript
cy.get('body').then(($body) => {
  const elements = $body.find('selector')
  if (elements.length > 0) {
    // å¤„ç†æ‰¾åˆ°çš„å…ƒç´ 
  }
})
```

---

## Q6: ä¸ºä»€ä¹ˆæµ‹è¯•æœ‰æ—¶å€™æ‰¾ä¸åˆ°å…ƒç´ ï¼Ÿ
**A**: å¯èƒ½çš„åŸå› ï¼š
1. å…ƒç´ è¿˜æ²¡æœ‰åŠ è½½å®Œæˆ
2. CSSé€‰æ‹©å™¨å†™é”™äº†
3. å…ƒç´ åœ¨iframeé‡Œ
4. å…ƒç´ è¢«å…¶ä»–å…ƒç´ é®æŒ¡

---

## Q7: å¦‚ä½•åœ¨Cypressä¸­æ·»åŠ è°ƒè¯•ä¿¡æ¯ï¼Ÿ
**A**: ä½¿ç”¨ `cy.log('ä¿¡æ¯')` æ¥è®°å½•è°ƒè¯•ä¿¡æ¯ï¼Œä¼šæ˜¾ç¤ºåœ¨æµ‹è¯•è¿è¡Œæ—¥å¿—ä¸­ã€‚

---

## Q8: æµ‹è¯•è¿è¡Œå¤ªæ…¢æ€ä¹ˆåŠï¼Ÿ
**A**:
1. ä½¿ç”¨ `--headless` æ¨¡å¼è¿è¡Œ
2. å‡å°‘ `cy.wait()` çš„ä½¿ç”¨
3. ä½¿ç”¨æ›´ç²¾ç¡®çš„é€‰æ‹©å™¨
4. åªè¿è¡Œå¿…è¦çš„æµ‹è¯•ç”¨ä¾‹

---

## Q9: å¦‚ä½•æ¨¡æ‹Ÿç”¨æˆ·çš„å¤æ‚æ“ä½œåºåˆ—ï¼Ÿ
**A**: å°†æ“ä½œåˆ†è§£ä¸ºå¤šä¸ªæ­¥éª¤ï¼Œæ¯æ­¥éƒ½è¿›è¡ŒéªŒè¯ï¼š
```javascript
cy.visit('url')
cy.get('input1').type('value1')
cy.get('button').click()
cy.get('result').should('contain', 'expected')
```

---

## Q10: ä»€ä¹ˆæ˜¯é¡µé¢å¯¹è±¡æ¨¡å¼ï¼Ÿ
**A**: å°†é¡µé¢å…ƒç´ å’Œæ“ä½œå°è£…åœ¨ç±»æˆ–å¯¹è±¡ä¸­ï¼Œæé«˜ä»£ç å¤ç”¨æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚(å¾…å­¦ä¹ )

---

## Q11: ç”Ÿå‘½å‘¨æœŸé’©å­ before å’Œ beforeEach æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
**A**:
- `before()`: åœ¨æ•´ä¸ªæµ‹è¯•å¥—ä»¶å¼€å§‹å‰æ‰§è¡Œä¸€æ¬¡ï¼Œé€‚åˆè®¾ç½®å…¨å±€æ•°æ®
- `beforeEach()`: åœ¨æ¯ä¸ªæµ‹è¯•ç”¨ä¾‹å‰éƒ½æ‰§è¡Œï¼Œé€‚åˆé‡ç½®æµ‹è¯•ç¯å¢ƒ
- æ‰§è¡Œé¡ºåºï¼šbefore â†’ beforeEach â†’ æµ‹è¯• â†’ afterEach â†’ after

---

## Q12: ä»€ä¹ˆæ—¶å€™ä½¿ç”¨ cy.wait() å’Œå›ºå®šæ—¶é—´ç­‰å¾…ï¼Ÿ
**A**: **å°½é‡é¿å…ä½¿ç”¨å›ºå®šæ—¶é—´ç­‰å¾…**
- âŒ ä¸å¥½ï¼š`cy.wait(2000)` - å¯èƒ½å¤ªæ…¢æˆ–ä¸å¤Ÿé•¿
- âœ… æ¨èï¼š`cy.get('.loading').should('not.exist')` - æ¡ä»¶ç­‰å¾…
- âœ… å¯ä»¥ï¼šç­‰å¾…ç½‘ç»œè¯·æ±‚ `cy.wait('@apiCall')`

---

## Q13: å¦‚ä½•åœ¨æµ‹è¯•ä¸­å…±äº«æ•°æ®ï¼Ÿ
**A**: ä½¿ç”¨åˆ«åç³»ç»Ÿï¼š
```javascript
before(() => {
  const testData = { user: 'john', id: 123 }
  cy.wrap(testData).as('testData')
})

it('ä½¿ç”¨å…±äº«æ•°æ®', () => {
  cy.get('@testData').then((data) => {
    cy.log(`ç”¨æˆ·ID: ${data.id}`)
  })
})
```

---

## Q14: cy.intercept() å’ŒçœŸå®APIè¯·æ±‚æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ
**A**:
- `cy.intercept()`: æ‹¦æˆªå¹¶æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚ï¼Œå¯ä»¥æ§åˆ¶å“åº”å†…å®¹å’Œæ—¶é—´
- çœŸå®API: ä¾èµ–å¤–éƒ¨æœåŠ¡ï¼Œå¯èƒ½ä¸ç¨³å®šä¸”è¾ƒæ…¢
- å»ºè®®ï¼šå•å…ƒæµ‹è¯•ç”¨interceptï¼Œé›†æˆæµ‹è¯•ç”¨çœŸå®API

---

## Q15: å¦‚ä½•å¤„ç†"Element is not visible"é”™è¯¯ï¼Ÿ
**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. å…ƒç´ æ˜¯å¦çœŸçš„å­˜åœ¨ï¼š`cy.get('selector').should('exist')`
2. ç­‰å¾…å…ƒç´ å¯è§ï¼š`cy.get('selector').should('be.visible')`
3. æ»šåŠ¨åˆ°å…ƒç´ ï¼š`cy.get('selector').scrollIntoView()`
4. ä½¿ç”¨ `{ force: true }` å¼ºåˆ¶æ“ä½œï¼ˆè°¨æ…ä½¿ç”¨ï¼‰

---

## Q16: æµ‹è¯•ç”¨ä¾‹ä¹‹é—´å¦‚ä½•ä¿æŒç‹¬ç«‹ï¼Ÿ
**A**: éµå¾ªä»¥ä¸‹åŸåˆ™ï¼š
1. æ¯ä¸ªæµ‹è¯•å‰é‡ç½®çŠ¶æ€ï¼ˆbeforeEachï¼‰
2. ä¸ä¾èµ–å…¶ä»–æµ‹è¯•çš„ç»“æœ
3. æ¸…ç†æµ‹è¯•äº§ç”Ÿçš„æ•°æ®ï¼ˆafterEachï¼‰
4. ä½¿ç”¨å”¯ä¸€çš„æµ‹è¯•æ•°æ®é¿å…å†²çª

---

## Q17: å¦‚ä½•æ¨¡æ‹Ÿç½‘ç»œé”™è¯¯å’Œæ…¢ç½‘ç»œï¼Ÿ
**A**:
```javascript
// æ¨¡æ‹Ÿç½‘ç»œé”™è¯¯
cy.intercept('GET', '/api/data', {
  statusCode: 500,
  body: { error: 'Server Error' }
})

// æ¨¡æ‹Ÿæ…¢ç½‘ç»œ
cy.intercept('GET', '/api/data', (req) => {
  req.reply((res) => {
    res.delay = 2000  // 2ç§’å»¶è¿Ÿ
    res.send(res.body)
  })
})
```

---

## Q18: å¦‚ä½•ç»„ç»‡å¤§å‹æµ‹è¯•é¡¹ç›®çš„æ–‡ä»¶ç»“æ„ï¼Ÿ
**A**: æ¨èç»“æ„ï¼š
```
cypress/
â”œâ”€â”€ e2e/
â”‚   â”œâ”€â”€ auth/          # è®¤è¯ç›¸å…³æµ‹è¯•
â”‚   â”œâ”€â”€ products/      # äº§å“ç›¸å…³æµ‹è¯•
â”‚   â””â”€â”€ checkout/      # ç»“è´¦ç›¸å…³æµ‹è¯•
â”œâ”€â”€ fixtures/          # æµ‹è¯•æ•°æ®
â”œâ”€â”€ support/
â”‚   â”œâ”€â”€ commands.js    # è‡ªå®šä¹‰å‘½ä»¤
â”‚   â””â”€â”€ e2e.js        # å…¨å±€é…ç½®
```

---

## Q19: .only() å’Œ .skip() åœ¨å›¢é˜Ÿåˆä½œä¸­è¦æ³¨æ„ä»€ä¹ˆï¼Ÿ
**A**: æ³¨æ„äº‹é¡¹ï¼š
- âŒ ä¸è¦æäº¤åŒ…å« `.only()` çš„ä»£ç åˆ°ä¸»åˆ†æ”¯
- âŒ é•¿æœŸ `.skip()` æµ‹è¯•ä¼šé™ä½æµ‹è¯•è¦†ç›–ç‡
- âœ… æœ¬åœ°è°ƒè¯•æ—¶ä½¿ç”¨ `.only()` éš”ç¦»æµ‹è¯•
- âœ… ä¸´æ—¶ `.skip()` è¦åŠæ—¶ä¿®å¤

---

## Q20: å¦‚ä½•åœ¨Cypressä¸­å®ç°æ•°æ®é©±åŠ¨æµ‹è¯•ï¼Ÿ
**A**: ä½¿ç”¨æ•°ç»„å’Œå¾ªç¯ï¼š
```javascript
const testCases = [
  { email: 'user1@test.com', expectedRole: 'admin' },
  { email: 'user2@test.com', expectedRole: 'user' }
]

testCases.forEach((testCase) => {
  it(`æµ‹è¯• ${testCase.email}`, () => {
    cy.login(testCase.email)
    cy.verifyRole(testCase.expectedRole)
  })
})
```

---

*æœ€åæ›´æ–°: 2026-01-20*